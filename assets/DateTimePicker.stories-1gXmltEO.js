import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as l}from"./iframe-BG8zkIOD.js";import{R as ie,T as le,C as ce,P as de,a as me}from"./index-CkDt-4iM.js";import{c as L}from"./index-HTk8j2sO.js";import{c as f}from"./utils-kmX6UHYG.js";import{c as ue}from"./createLucideIcon-BIBI5zOG.js";import{C as pe,a as fe}from"./chevron-right-BDLtJw_7.js";import"./preload-helper-PPVm8Dsz.js";import"./index-iIQvU6-w.js";import"./index-bVFiz8P1.js";import"./index-Bjcc1l7P.js";import"./index-Gl2cV_Zr.js";import"./index-5PZ0UfAT.js";import"./index-D1ty4xI5.js";import"./index-gCjemlws.js";import"./index-DwGWVa2S.js";import"./index-Qr9VrVyz.js";import"./index-D4pPP8fM.js";import"./index-BpufLS9P.js";const xe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],he=ue("clock",xe),ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_=["January","February","March","April","May","June","July","August","September","October","November","December"];function A(t,a){return new Date(t,a+1,0).getDate()}function ye(t,a){return new Date(t,a,1).getDay()}function z(t,a){return t?t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate():!1}function be(t){return z(new Date,t)}function De(t,a="yyyy-MM-dd",m=!0){if(!t)return"";const g=String(t.getMonth()+1).padStart(2,"0"),x=String(t.getDate()).padStart(2,"0"),y=t.getFullYear(),h=t.getHours(),H=h%12||12,E=m?String(h).padStart(2,"0"):String(H).padStart(2,"0"),F=String(t.getMinutes()).padStart(2,"0"),b=h>=12?"PM":"AM";return a.replace("yyyy",String(y)).replace("MM",g).replace("dd",x).replace("HH",String(h).padStart(2,"0")).replace("hh",E).replace("mm",F).replace("a",b)}function R(t){const a=t.match(/^(\d{1,2}):(\d{2})$/);return a&&a[1]&&a[2]?{hours:Math.min(23,Math.max(0,parseInt(a[1],10))),minutes:Math.min(59,Math.max(0,parseInt(a[2],10)))}:{hours:0,minutes:0}}const Se=L(["bg-card text-body text-primary placeholder:text-tertiary","flex h-10 w-full items-center justify-between rounded-md border px-3 py-2","font-sans transition-colors","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none","disabled:cursor-not-allowed disabled:opacity-50"],{variants:{variant:{default:"border-border",error:"border-error"}},defaultVariants:{variant:"default"}}),ve=L(["inline-flex h-9 w-9 items-center justify-center rounded-full text-sm","transition-colors focus-visible:outline-none","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:ring-offset-1"],{variants:{state:{default:"hover:bg-sunflower text-primary",selected:"bg-sunflower text-primary font-medium",today:"hover:bg-sunflower border-sunflower text-primary border",disabled:"text-tertiary cursor-not-allowed opacity-50",outside:"text-tertiary opacity-50"}},defaultVariants:{state:"default"}}),n=l.forwardRef(({value:t,onChange:a,placeholder:m="Select date and time",format:g="yyyy-MM-dd HH:mm",minDate:x,maxDate:y,disabled:h=!1,variant:H,className:E,id:F,name:b,use24Hour:J=!0,minuteStep:U=1,"aria-label":K,"aria-describedby":B},G)=>{const[Y,q]=l.useState(!1),[W,P]=l.useState(()=>t||new Date),[O,V]=l.useState(()=>t?`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`:"12:00"),o=W.getFullYear(),s=W.getMonth(),I=A(o,s),$=ye(o,s),Q=l.useMemo(()=>{const r=[],i=s===0?11:s-1,u=s===0?o-1:o,d=A(u,i);for(let c=$-1;c>=0;c--)r.push({date:new Date(u,i,d-c),isOutside:!0});for(let c=1;c<=I;c++)r.push({date:new Date(o,s,c),isOutside:!1});const p=42-r.length,ne=s===11?0:s+1,oe=s===11?o+1:o;for(let c=1;c<=p;c++)r.push({date:new Date(oe,ne,c),isOutside:!0});return r},[o,s,I,$]),X=()=>{P(new Date(o,s-1,1))},Z=()=>{P(new Date(o,s+1,1))},ee=r=>{const{hours:i,minutes:u}=R(O),d=new Date(r.getFullYear(),r.getMonth(),r.getDate(),i,u);a?.(d)},te=r=>{const i=r.target.value;if(V(i),t){const{hours:u,minutes:d}=R(i),p=new Date(t);p.setHours(u,d),a?.(p)}},ae=()=>{const r=new Date;V(`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`),a?.(r),q(!1)},re=r=>!!(x&&r<new Date(x.setHours(0,0,0,0))||y&&r>new Date(y.setHours(23,59,59,999))),se=(r,i)=>re(r)?"disabled":i?"outside":t&&z(t,r)?"selected":be(r)?"today":"default";return l.useEffect(()=>{t&&(P(t),V(`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`))},[t]),e.jsxs(ie,{open:Y,onOpenChange:q,children:[e.jsx(le,{asChild:!0,children:e.jsxs("button",{ref:G,id:F,type:"button",disabled:h,className:f(Se({variant:H}),E),"aria-label":K||"Choose date and time","aria-describedby":B,"aria-haspopup":"dialog","aria-expanded":Y,children:[e.jsx("span",{className:f("truncate",!t&&"text-tertiary"),children:t?De(t,g,J):m}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"text-tertiary h-4 w-4 shrink-0"}),e.jsx(ce,{className:"text-tertiary h-4 w-4 shrink-0"})]}),b&&e.jsx("input",{type:"hidden",name:b,value:t?t.toISOString():""})]})}),e.jsx(de,{children:e.jsxs(me,{className:f("bg-main border-border z-50 w-auto rounded-lg border p-4 shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=top]:slide-in-from-bottom-2"),sideOffset:4,align:"start",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:X,className:f("hover:bg-alt focus-visible:ring-sunflower inline-flex h-8 w-8 items-center justify-center rounded-full","transition-colors focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Previous month",children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-primary text-sm font-medium",children:[_[s]," ",o]}),e.jsx("button",{type:"button",onClick:Z,className:f("hover:bg-alt focus-visible:ring-sunflower inline-flex h-8 w-8 items-center justify-center rounded-full","transition-colors focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Next month",children:e.jsx(fe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mb-2 grid grid-cols-7 gap-1",children:ge.map(r=>e.jsx("div",{className:"text-tertiary text-center text-xs font-medium",children:r},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",role:"grid","aria-label":`${_[s]} ${o}`,children:Q.map(({date:r,isOutside:i},u)=>{const d=se(r,i),p=d==="disabled";return e.jsx("button",{type:"button",onClick:()=>!p&&ee(r),disabled:p,className:ve({state:d}),"aria-label":r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),"aria-pressed":d==="selected",tabIndex:i?-1:0,children:r.getDate()},u)})}),e.jsx("div",{className:"border-border mt-4 border-t pt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"time-input",className:"text-secondary text-sm font-medium",children:"Time"}),e.jsx("input",{id:"time-input",type:"time",value:O,onChange:te,step:U*60,className:f("bg-card text-body text-primary border-border rounded-md border px-2 py-1","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Select time"})]})}),e.jsx("div",{className:"border-border mt-4 border-t pt-4",children:e.jsx("button",{type:"button",onClick:ae,className:f("text-sunflower hover:text-sunflower-hover w-full text-center text-sm font-medium","transition-colors focus-visible:underline focus-visible:outline-none"),children:"Now"})})]})})]})});n.displayName="DateTimePicker";n.__docgenInfo={description:`DateTimePicker component following Engrate brand guidelines.
Features a calendar popup with time selection and accessible keyboard controls.

@example
\`\`\`tsx
const [dateTime, setDateTime] = useState<Date | null>(null)
<DateTimePicker value={dateTime} onChange={setDateTime} placeholder="Select date and time" />
\`\`\``,methods:[],displayName:"DateTimePicker",props:{value:{required:!1,tsType:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},description:"The currently selected date and time"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:"Callback when the date/time changes"},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text when no date is selected",defaultValue:{value:"'Select date and time'",computed:!1}},format:{required:!1,tsType:{name:"string"},description:"Date/time format string (supports MM, dd, yyyy, HH, hh, mm, a)",defaultValue:{value:"'yyyy-MM-dd HH:mm'",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the date time picker is disabled",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional class name for the trigger"},id:{required:!1,tsType:{name:"string"},description:"ID for the trigger element"},name:{required:!1,tsType:{name:"string"},description:"Name attribute for form integration"},use24Hour:{required:!1,tsType:{name:"boolean"},description:"Use 24-hour format for time (default: true)",defaultValue:{value:"true",computed:!1}},minuteStep:{required:!1,tsType:{name:"number"},description:"Step for minutes (default: 1)",defaultValue:{value:"1",computed:!1}},"aria-label":{required:!1,tsType:{name:"string"},description:"aria-label for accessibility"},"aria-describedby":{required:!1,tsType:{name:"string"},description:"aria-describedby for accessibility"}},composes:["VariantProps"]};function we(){const[t,a]=l.useState(new Date);return e.jsx(n,{value:t,onChange:a,placeholder:"Select date and time"})}function je(){const[t,a]=l.useState(new Date);return e.jsx(n,{value:t,onChange:a,format:"dd/MM/yyyy HH:mm",placeholder:"DD/MM/YYYY HH:MM"})}function Me(){const[t,a]=l.useState(new Date);return e.jsx(n,{value:t,onChange:a,format:"MM/dd/yyyy hh:mm a",use24Hour:!1,placeholder:"Select date and time"})}function Te(){const[t,a]=l.useState(null),m=new Date,g=new Date(m.getFullYear(),m.getMonth(),1),x=new Date(m.getFullYear(),m.getMonth()+1,0);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-small text-secondary",children:"Only dates in the current month are selectable"}),e.jsx(n,{value:t,onChange:a,minDate:g,maxDate:x,placeholder:"Select date and time"})]})}function Ne(){const[t,a]=l.useState(null);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(n,{value:t,onChange:a,placeholder:"Select date and time"}),e.jsxs("p",{className:"text-small text-secondary",children:["Selected: ",t?t.toLocaleString():"None"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-sunflower rounded-pill px-4 py-2 text-sm",onClick:()=>a(new Date),children:"Set Now"}),e.jsx("button",{className:"border-border rounded-pill border px-4 py-2 text-sm",onClick:()=>a(null),children:"Clear"})]})]})}function Ce(){const[t,a]=l.useState(new Date);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-small text-secondary",children:"Time selection in 15-minute increments"}),e.jsx(n,{value:t,onChange:a,minuteStep:15,placeholder:"Select date and time"})]})}const Ke={title:"Forms/DateTimePicker",component:n,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{control:"select",options:["default","error"],description:"The visual style of the date time picker"},disabled:{control:"boolean",description:"Whether the date time picker is disabled"},placeholder:{control:"text",description:"Placeholder text when no date is selected"},format:{control:"text",description:"Date/time format string (supports MM, dd, yyyy, HH, hh, mm, a)"},use24Hour:{control:"boolean",description:"Use 24-hour format for time display"},minuteStep:{control:"number",description:"Step for minute selection"}},decorators:[t=>e.jsx("div",{className:"w-80",children:e.jsx(t,{})})]},D={args:{placeholder:"Select date and time"}},S={render:()=>e.jsx(we,{})},v={args:{variant:"error",placeholder:"Select date and time"}},w={args:{disabled:!0,placeholder:"Select date and time"}},j={render:()=>e.jsx(je,{})},M={render:()=>e.jsx(Me,{})},T={render:()=>e.jsx(Te,{})},N={render:()=>e.jsx(Ce,{})},C={render:()=>e.jsx(Ne,{})},k={render:()=>e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Default"}),e.jsx(n,{placeholder:"Select date and time"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"With Value"}),e.jsx(n,{value:new Date(2025,5,15,14,30)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Error"}),e.jsx(n,{variant:"error",placeholder:"Select date and time"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Disabled"}),e.jsx(n,{disabled:!0,placeholder:"Select date and time"})]})]})};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  args: {
    placeholder: 'Select date and time'
  }
}`,...D.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  render: () => <WithValueExample />
}`,...S.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {
    variant: 'error',
    placeholder: 'Select date and time'
  }
}`,...v.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: true,
    placeholder: 'Select date and time'
  }
}`,...w.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => <CustomFormatExample />
}`,...j.parameters?.docs?.source}}};M.parameters={...M.parameters,docs:{...M.parameters?.docs,source:{originalSource:`{
  render: () => <TwelveHourFormatExample />
}`,...M.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  render: () => <WithMinMaxDateExample />
}`,...T.parameters?.docs?.source}}};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  render: () => <MinuteStepExample />
}`,...N.parameters?.docs?.source}}};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`{
  render: () => <ControlledExample />
}`,...C.parameters?.docs?.source}}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col gap-6">
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Default</span>
        <DateTimePicker placeholder="Select date and time" />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">With Value</span>
        <DateTimePicker value={new Date(2025, 5, 15, 14, 30)} />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Error</span>
        <DateTimePicker variant="error" placeholder="Select date and time" />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Disabled</span>
        <DateTimePicker disabled placeholder="Select date and time" />
      </div>
    </div>
}`,...k.parameters?.docs?.source}}};const Be=["Default","WithValue","Error","Disabled","CustomFormat","TwelveHourFormat","WithMinMaxDate","MinuteStep","Controlled","AllStates"];export{k as AllStates,C as Controlled,j as CustomFormat,D as Default,w as Disabled,v as Error,N as MinuteStep,M as TwelveHourFormat,T as WithMinMaxDate,S as WithValue,Be as __namedExportsOrder,Ke as default};
