import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as n}from"./iframe-C6CMsfN0.js";import{R as U,T as B,P as G,C as J}from"./index-BKtoa06N.js";import{c as K}from"./index-HTk8j2sO.js";import{C as Q}from"./Calendar-D7lNpDQn.js";import{c as m}from"./utils-kmX6UHYG.js";import{c as X}from"./createLucideIcon-BUacS7gH.js";import{C as Z}from"./calendar-BfWLHPHo.js";import"./preload-helper-PPVm8Dsz.js";import"./index-xSzvWiK1.js";import"./index-Lus5SmQY.js";import"./index-BVksvLjG.js";import"./index-DtQ62xPZ.js";import"./index-CnVgb_44.js";import"./index-CC1jVALe.js";import"./index-D49FK3Z8.js";import"./index-B53_HNiM.js";import"./index-DAs2PMSo.js";import"./index-3xqwPjLR.js";import"./index-CoOYl0CT.js";import"./chevron-right-D2qXTGAP.js";const ee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],te=X("clock",ee);function ae(t,a="yyyy-MM-dd",o=!0){if(!t)return"";const d=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),c=t.getFullYear(),l=t.getHours(),v=l%12||12,M=o?String(l).padStart(2,"0"):String(v).padStart(2,"0"),N=String(t.getMinutes()).padStart(2,"0"),p=l>=12?"PM":"AM";return a.replace("yyyy",String(c)).replace("MM",d).replace("dd",i).replace("HH",String(l).padStart(2,"0")).replace("hh",M).replace("mm",N).replace("a",p)}function q(t){const a=t.match(/^(\d{1,2}):(\d{2})$/);return a&&a[1]&&a[2]?{hours:Math.min(23,Math.max(0,parseInt(a[1],10))),minutes:Math.min(59,Math.max(0,parseInt(a[2],10)))}:{hours:0,minutes:0}}const re=K(["bg-card text-body-sm text-primary placeholder:text-tertiary","flex h-8 w-full items-center justify-between rounded-md border px-3 py-1","font-sans transition-colors","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none","disabled:cursor-not-allowed disabled:opacity-50"],{variants:{variant:{default:"border-border",error:"border-error"}},defaultVariants:{variant:"default"}}),s=n.forwardRef(({value:t,onChange:a,placeholder:o="Select date and time",format:d="yyyy-MM-dd HH:mm",minDate:i,maxDate:c,disabled:l=!1,variant:v,className:M,id:N,name:p,use24Hour:W=!0,minuteStep:Y=1,"aria-label":$,"aria-describedby":I},O)=>{const[H,E]=n.useState(!1),[_,P]=n.useState(t||new Date),[V,w]=n.useState(()=>t?`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`:"12:00"),A=n.useMemo(()=>{const r=[];return i&&r.push({before:i}),c&&r.push({after:c}),r.length>0?r:void 0},[i,c]),R=r=>{if(!r)return;const{hours:u,minutes:C}=q(V),k=new Date(r.getFullYear(),r.getMonth(),r.getDate(),u,C);a?.(k)},z=r=>{const u=r.target.value;if(w(u),t){const{hours:C,minutes:k}=q(u),F=new Date(t);F.setHours(C,k),a?.(F)}},L=()=>{const r=new Date;w(`${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`),a?.(r),E(!1)};return n.useEffect(()=>{t&&(P(t),w(`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`))},[t]),e.jsxs(U,{open:H,onOpenChange:E,children:[e.jsx(B,{asChild:!0,children:e.jsxs("button",{ref:O,id:N,type:"button",disabled:l,className:m(re({variant:v}),M),"aria-label":$||"Choose date and time","aria-describedby":I,"aria-haspopup":"dialog","aria-expanded":H,children:[e.jsx("span",{className:m("truncate",!t&&"text-tertiary"),children:t?ae(t,d,W):o}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"text-tertiary h-4 w-4 shrink-0"}),e.jsx(Z,{className:"text-tertiary h-4 w-4 shrink-0"})]}),p&&e.jsx("input",{type:"hidden",name:p,value:t?t.toISOString():""})]})}),e.jsx(G,{children:e.jsxs(J,{className:m("bg-main border-border z-50 w-auto rounded-lg border p-4 shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=top]:slide-in-from-bottom-2"),sideOffset:4,align:"start",children:[e.jsx(Q,{mode:"single",selected:t??void 0,onSelect:R,month:_,onMonthChange:P,disabled:A}),e.jsx("div",{className:"border-border mt-4 border-t pt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{htmlFor:"time-input",className:"text-secondary text-sm font-medium",children:"Time"}),e.jsx("input",{id:"time-input",type:"time",value:V,onChange:z,step:Y*60,className:m("bg-card text-body-sm text-primary placeholder:text-body-sm border-border rounded-md border px-2 py-1","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Select time"})]})}),e.jsx("div",{className:"border-border mt-4 border-t pt-4",children:e.jsx("button",{type:"button",onClick:L,className:m("text-sunflower hover:text-sunflower-hover w-full text-center text-sm font-medium","transition-colors focus-visible:underline focus-visible:outline-none"),children:"Now"})})]})})]})});s.displayName="DateTimePicker";s.__docgenInfo={description:`DateTimePicker component following Engrate brand guidelines.
Features a calendar popup with time selection and accessible keyboard controls.

@example
\`\`\`tsx
const [dateTime, setDateTime] = useState<Date | null>(null)
<DateTimePicker value={dateTime} onChange={setDateTime} placeholder="Select date and time" />
\`\`\``,methods:[],displayName:"DateTimePicker",props:{value:{required:!1,tsType:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},description:"The currently selected date and time"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:"Callback when the date/time changes"},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text when no date is selected",defaultValue:{value:"'Select date and time'",computed:!1}},format:{required:!1,tsType:{name:"string"},description:"Date/time format string (supports MM, dd, yyyy, HH, hh, mm, a)",defaultValue:{value:"'yyyy-MM-dd HH:mm'",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the date time picker is disabled",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional class name for the trigger"},id:{required:!1,tsType:{name:"string"},description:"ID for the trigger element"},name:{required:!1,tsType:{name:"string"},description:"Name attribute for form integration"},use24Hour:{required:!1,tsType:{name:"boolean"},description:"Use 24-hour format for time (default: true)",defaultValue:{value:"true",computed:!1}},minuteStep:{required:!1,tsType:{name:"number"},description:"Step for minutes (default: 1)",defaultValue:{value:"1",computed:!1}},"aria-label":{required:!1,tsType:{name:"string"},description:"aria-label for accessibility"},"aria-describedby":{required:!1,tsType:{name:"string"},description:"aria-describedby for accessibility"}},composes:["VariantProps"]};function se(){const[t,a]=n.useState(new Date);return e.jsx(s,{value:t,onChange:a,placeholder:"Select date and time"})}function ne(){const[t,a]=n.useState(new Date);return e.jsx(s,{value:t,onChange:a,format:"dd/MM/yyyy HH:mm",placeholder:"DD/MM/YYYY HH:MM"})}function oe(){const[t,a]=n.useState(new Date);return e.jsx(s,{value:t,onChange:a,format:"MM/dd/yyyy hh:mm a",use24Hour:!1,placeholder:"Select date and time"})}function ie(){const[t,a]=n.useState(null),o=new Date,d=new Date(o.getFullYear(),o.getMonth(),1),i=new Date(o.getFullYear(),o.getMonth()+1,0);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-small text-secondary",children:"Only dates in the current month are selectable"}),e.jsx(s,{value:t,onChange:a,minDate:d,maxDate:i,placeholder:"Select date and time"})]})}function le(){const[t,a]=n.useState(null);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(s,{value:t,onChange:a,placeholder:"Select date and time"}),e.jsxs("p",{className:"text-small text-secondary",children:["Selected: ",t?t.toLocaleString():"None"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-sunflower rounded-pill px-4 py-2 text-sm",onClick:()=>a(new Date),children:"Set Now"}),e.jsx("button",{className:"border-border rounded-pill border px-4 py-2 text-sm",onClick:()=>a(null),children:"Clear"})]})]})}function de(){const[t,a]=n.useState(new Date);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-small text-secondary",children:"Time selection in 15-minute increments"}),e.jsx(s,{value:t,onChange:a,minuteStep:15,placeholder:"Select date and time"})]})}const Ee={title:"Forms/DateTimePicker",component:s,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{control:"select",options:["default","error"],description:"The visual style of the date time picker"},disabled:{control:"boolean",description:"Whether the date time picker is disabled"},placeholder:{control:"text",description:"Placeholder text when no date is selected"},format:{control:"text",description:"Date/time format string (supports MM, dd, yyyy, HH, hh, mm, a)"},use24Hour:{control:"boolean",description:"Use 24-hour format for time display"},minuteStep:{control:"number",description:"Step for minute selection"}},decorators:[t=>e.jsx("div",{className:"w-80",children:e.jsx(t,{})})]},x={args:{placeholder:"Select date and time"}},f={render:()=>e.jsx(se,{})},h={args:{variant:"error",placeholder:"Select date and time"}},g={args:{disabled:!0,placeholder:"Select date and time"}},y={render:()=>e.jsx(ne,{})},b={render:()=>e.jsx(oe,{})},S={render:()=>e.jsx(ie,{})},D={render:()=>e.jsx(de,{})},T={render:()=>e.jsx(le,{})},j={render:()=>e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Default"}),e.jsx(s,{placeholder:"Select date and time"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"With Value"}),e.jsx(s,{value:new Date(2025,5,15,14,30)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Error"}),e.jsx(s,{variant:"error",placeholder:"Select date and time"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-small text-secondary",children:"Disabled"}),e.jsx(s,{disabled:!0,placeholder:"Select date and time"})]})]})};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  args: {
    placeholder: 'Select date and time'
  }
}`,...x.parameters?.docs?.source}}};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:`{
  render: () => <WithValueExample />
}`,...f.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  args: {
    variant: 'error',
    placeholder: 'Select date and time'
  }
}`,...h.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: true,
    placeholder: 'Select date and time'
  }
}`,...g.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: () => <CustomFormatExample />
}`,...y.parameters?.docs?.source}}};b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:`{
  render: () => <TwelveHourFormatExample />
}`,...b.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  render: () => <WithMinMaxDateExample />
}`,...S.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <MinuteStepExample />
}`,...D.parameters?.docs?.source}}};T.parameters={...T.parameters,docs:{...T.parameters?.docs,source:{originalSource:`{
  render: () => <ControlledExample />
}`,...T.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col gap-6">
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Default</span>
        <DateTimePicker placeholder="Select date and time" />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">With Value</span>
        <DateTimePicker value={new Date(2025, 5, 15, 14, 30)} />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Error</span>
        <DateTimePicker variant="error" placeholder="Select date and time" />
      </div>
      <div className="flex flex-col gap-2">
        <span className="text-small text-secondary">Disabled</span>
        <DateTimePicker disabled placeholder="Select date and time" />
      </div>
    </div>
}`,...j.parameters?.docs?.source}}};const Pe=["Default","WithValue","Error","Disabled","CustomFormat","TwelveHourFormat","WithMinMaxDate","MinuteStep","Controlled","AllStates"];export{j as AllStates,T as Controlled,y as CustomFormat,x as Default,g as Disabled,h as Error,D as MinuteStep,b as TwelveHourFormat,S as WithMinMaxDate,f as WithValue,Pe as __namedExportsOrder,Ee as default};
