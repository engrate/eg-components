import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as i}from"./iframe-CwYTgCCY.js";import{R as Z,T as ee,C as te,P as ae,a as re,b as se,c as ne}from"./chevron-right-VG8bfEBc.js";import{c as O}from"./index-DDA3KdpW.js";import{c as m}from"./utils-ryREhF4q.js";import"./preload-helper-PPVm8Dsz.js";import"./index-D4bUoCzf.js";import"./index-BLVg5VFr.js";import"./index-DDGLVj3O.js";import"./index-DjNH07ic.js";import"./index-DZzx8c47.js";import"./index-4PHG7kU2.js";import"./index-B_EJDNzQ.js";import"./index-BbklOOkG.js";import"./index-Jo1AqpCd.js";import"./index-D2tJ68hg.js";import"./index-BNduGn7P.js";import"./createLucideIcon-tjm4YXUx.js";const le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W=["January","February","March","April","May","June","July","August","September","October","November","December"];function Y(t,r){return new Date(t,r+1,0).getDate()}function oe(t,r){return new Date(t,r,1).getDay()}function A(t,r){return t?t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate():!1}function ie(t){return A(new Date,t)}function q(t,r="yyyy-MM-dd"){if(!t)return"";const d=String(t.getMonth()+1).padStart(2,"0"),p=String(t.getDate()).padStart(2,"0"),u=t.getFullYear();return r.replace("yyyy",String(u)).replace("MM",d).replace("dd",p)}const de=O(["bg-card text-body text-primary placeholder:text-tertiary","flex h-10 w-full items-center justify-between rounded-md border px-3 py-2","font-sans transition-colors","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none","disabled:cursor-not-allowed disabled:opacity-50"],{variants:{variant:{default:"border-border",error:"border-error"}},defaultVariants:{variant:"default"}}),ce=O(["inline-flex h-9 w-9 items-center justify-center rounded-full text-sm","transition-colors focus-visible:outline-none","focus-visible:ring-sunflower focus-visible:ring-2 focus-visible:ring-offset-1"],{variants:{state:{default:"hover:bg-sunflower text-primary",selected:"bg-sunflower text-primary font-medium",today:"hover:bg-sunflower border-sunflower text-primary border",disabled:"text-tertiary cursor-not-allowed opacity-50",outside:"text-tertiary opacity-50"}},defaultVariants:{state:"default"}}),l=i.forwardRef(({value:t,onChange:r,placeholder:d="Select a date",format:p="MM/dd/yyyy",minDate:u,maxDate:M,disabled:I=!1,variant:_,className:R,id:z,name:C,"aria-label":H,"aria-describedby":J},L)=>{const[k,T]=i.useState(!1),[E,N]=i.useState(()=>t||new Date),n=E.getFullYear(),s=E.getMonth(),P=Y(n,s),V=oe(n,s),$=i.useMemo(()=>{const a=[],c=s===0?11:s-1,f=s===0?n-1:n,x=Y(f,c);for(let o=V-1;o>=0;o--)a.push({date:new Date(f,c,x-o),isOutside:!0});for(let o=1;o<=P;o++)a.push({date:new Date(n,s,o),isOutside:!1});const h=42-a.length,Q=s===11?0:s+1,X=s===11?n+1:n;for(let o=1;o<=h;o++)a.push({date:new Date(X,Q,o),isOutside:!0});return a},[n,s,P,V]),K=()=>{N(new Date(n,s-1,1))},U=()=>{N(new Date(n,s+1,1))},F=a=>{r?.(a),T(!1)},B=a=>!!(u&&a<new Date(u.setHours(0,0,0,0))||M&&a>new Date(M.setHours(23,59,59,999))),G=(a,c)=>B(a)?"disabled":c?"outside":t&&A(t,a)?"selected":ie(a)?"today":"default";return i.useEffect(()=>{t&&N(t)},[t]),e.jsxs(Z,{open:k,onOpenChange:T,children:[e.jsx(ee,{asChild:!0,children:e.jsxs("button",{ref:L,id:z,type:"button",disabled:I,className:m(de({variant:_}),R),"aria-label":H||"Choose date","aria-describedby":J,"aria-haspopup":"dialog","aria-expanded":k,children:[e.jsx("span",{className:m("truncate",!t&&"text-tertiary"),children:t?q(t,p):d}),e.jsx(te,{className:"text-tertiary h-4 w-4 shrink-0"}),C&&e.jsx("input",{type:"hidden",name:C,value:t?q(t,"yyyy-MM-dd"):""})]})}),e.jsx(ae,{children:e.jsxs(re,{className:m("bg-main border-border z-50 w-auto rounded-lg border p-4 shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2","data-[side=top]:slide-in-from-bottom-2"),sideOffset:4,align:"start",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:K,className:m("hover:bg-alt focus-visible:ring-sunflower inline-flex h-8 w-8 items-center justify-center rounded-full","transition-colors focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Previous month",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-primary text-sm font-medium",children:[W[s]," ",n]}),e.jsx("button",{type:"button",onClick:U,className:m("hover:bg-alt focus-visible:ring-sunflower inline-flex h-8 w-8 items-center justify-center rounded-full","transition-colors focus-visible:ring-2 focus-visible:outline-none"),"aria-label":"Next month",children:e.jsx(ne,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mb-2 grid grid-cols-7 gap-1",children:le.map(a=>e.jsx("div",{className:"text-tertiary text-center text-xs font-medium",children:a},a))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",role:"grid","aria-label":`${W[s]} ${n}`,children:$.map(({date:a,isOutside:c},f)=>{const x=G(a,c),h=x==="disabled";return e.jsx("button",{type:"button",onClick:()=>!h&&F(a),disabled:h,className:ce({state:x}),"aria-label":a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),"aria-selected":x==="selected",tabIndex:c?-1:0,children:a.getDate()},f)})}),e.jsx("div",{className:"border-border mt-4 border-t pt-4",children:e.jsx("button",{type:"button",onClick:()=>F(new Date),className:m("text-sunflower hover:text-sunflower-hover w-full text-center text-sm font-medium","transition-colors focus-visible:underline focus-visible:outline-none"),children:"Today"})})]})})]})});l.displayName="DatePicker";l.__docgenInfo={description:`DatePicker component following Engrate brand guidelines.
Features a calendar popup with month/year navigation and accessible keyboard controls.

@example
\`\`\`tsx
const [date, setDate] = useState<Date | null>(null)
<DatePicker value={date} onChange={setDate} placeholder="Select a date" />
\`\`\``,methods:[],displayName:"DatePicker",props:{value:{required:!1,tsType:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},description:"The currently selected date"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:"Callback when the date changes"},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text when no date is selected",defaultValue:{value:"'Select a date'",computed:!1}},format:{required:!1,tsType:{name:"string"},description:"Date format string (supports MM, dd, yyyy)",defaultValue:{value:"'MM/dd/yyyy'",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the date picker is disabled",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Additional class name for the trigger"},id:{required:!1,tsType:{name:"string"},description:"ID for the trigger element"},name:{required:!1,tsType:{name:"string"},description:"Name attribute for form integration"},"aria-label":{required:!1,tsType:{name:"string"},description:"aria-label for accessibility"},"aria-describedby":{required:!1,tsType:{name:"string"},description:"aria-describedby for accessibility"}},composes:["VariantProps"]};function ue(){const[t,r]=i.useState(new Date);return e.jsx(l,{value:t,onChange:r,placeholder:"Select a date"})}function me(){const[t,r]=i.useState(new Date);return e.jsx(l,{value:t,onChange:r,format:"dd/MM/yyyy",placeholder:"DD/MM/YYYY"})}function pe(){const[t,r]=i.useState(null),d=new Date,p=new Date(d.getFullYear(),d.getMonth(),1),u=new Date(d.getFullYear(),d.getMonth()+1,0);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-small text-secondary",children:"Only dates in the current month are selectable"}),e.jsx(l,{value:t,onChange:r,minDate:p,maxDate:u,placeholder:"Select a date"})]})}function xe(){const[t,r]=i.useState(null);return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(l,{value:t,onChange:r,placeholder:"Select a date"}),e.jsxs("p",{className:"text-small text-secondary",children:["Selected: ",t?t.toLocaleDateString():"None"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-sunflower rounded-pill px-4 py-2 text-sm",onClick:()=>r(new Date),children:"Set Today"}),e.jsx("button",{className:"border-border rounded-pill border px-4 py-2 text-sm",onClick:()=>r(null),children:"Clear"})]})]})}const Fe={title:"Misc/DatePicker",component:l,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{variant:{control:"select",options:["default","error"],description:"The visual style of the date picker"},disabled:{control:"boolean",description:"Whether the date picker is disabled"},placeholder:{control:"text",description:"Placeholder text when no date is selected"},format:{control:"text",description:"Date format string (supports MM, dd, yyyy)"}},decorators:[t=>e.jsx("div",{className:"w-72",children:e.jsx(t,{})})]},b={args:{placeholder:"Select a date"}},y={render:()=>e.jsx(ue,{})},g={args:{variant:"error",placeholder:"Select a date"}},D={args:{disabled:!0,placeholder:"Select a date"}},v={render:()=>e.jsx(me,{})},j={render:()=>e.jsx(pe,{})},w={render:()=>e.jsx(xe,{})},S={render:()=>e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-small text-secondary mb-3 font-medium",children:"Variants"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-tertiary mb-1",children:"Default"}),e.jsx(l,{placeholder:"Select a date"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-tertiary mb-1",children:"Error"}),e.jsx(l,{variant:"error",placeholder:"Select a date"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-small text-secondary mb-3 font-medium",children:"States"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-tertiary mb-1",children:"Empty"}),e.jsx(l,{placeholder:"Select a date"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-tertiary mb-1",children:"With Value"}),e.jsx(l,{value:new Date,placeholder:"Select a date"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-tertiary mb-1",children:"Disabled"}),e.jsx(l,{disabled:!0,placeholder:"Select a date"})]})]})]})]})};b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:`{
  args: {
    placeholder: 'Select a date'
  }
}`,...b.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: () => <WithValueExample />
}`,...y.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:`{
  args: {
    variant: 'error',
    placeholder: 'Select a date'
  }
}`,...g.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: true,
    placeholder: 'Select a date'
  }
}`,...D.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <CustomFormatExample />
}`,...v.parameters?.docs?.source}}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  render: () => <WithMinMaxDateExample />
}`,...j.parameters?.docs?.source}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  render: () => <ControlledExample />
}`,...w.parameters?.docs?.source}}};S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col gap-6">
      <div>
        <h3 className="text-small text-secondary mb-3 font-medium">Variants</h3>
        <div className="flex flex-col gap-4">
          <div>
            <p className="text-label text-tertiary mb-1">Default</p>
            <DatePicker placeholder="Select a date" />
          </div>
          <div>
            <p className="text-label text-tertiary mb-1">Error</p>
            <DatePicker variant="error" placeholder="Select a date" />
          </div>
        </div>
      </div>
      <div>
        <h3 className="text-small text-secondary mb-3 font-medium">States</h3>
        <div className="flex flex-col gap-4">
          <div>
            <p className="text-label text-tertiary mb-1">Empty</p>
            <DatePicker placeholder="Select a date" />
          </div>
          <div>
            <p className="text-label text-tertiary mb-1">With Value</p>
            <DatePicker value={new Date()} placeholder="Select a date" />
          </div>
          <div>
            <p className="text-label text-tertiary mb-1">Disabled</p>
            <DatePicker disabled placeholder="Select a date" />
          </div>
        </div>
      </div>
    </div>
}`,...S.parameters?.docs?.source}}};const We=["Default","WithValue","Error","Disabled","CustomFormat","WithMinMaxDate","Controlled","AllStates"];export{S as AllStates,w as Controlled,v as CustomFormat,b as Default,D as Disabled,g as Error,j as WithMinMaxDate,y as WithValue,We as __namedExportsOrder,Fe as default};
